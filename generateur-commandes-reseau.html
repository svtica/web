<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Générateur de Commandes Réseau - Outils SysAdmin</title>
    <meta name="description" content="Génère des commandes réseau personnalisées : ping, traceroute, netstat, nslookup, wget/curl, port scan">
    
    <!-- Fonts -->
    <link rel="stylesheet" href="fonts/font.css" type="text/css" charset="utf-8" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
    
    <!-- CSS Unifié -->
    <link rel="stylesheet" href="css/unified-theme.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="images/favicon.png">
    <style>
        h1 {
            color: var(--heading-color);
            text-align: center;
            margin-bottom: var(--spacing-xl);
            border-bottom: 3px solid var(--button-color);
            padding-bottom: var(--spacing-sm);
        }
        
        .command-tabs {
            display: flex;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-xl);
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .command-tab {
            background: var(--muted-color);
            border: none;
            padding: var(--spacing-md) var(--spacing-lg);
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all var(--transition-normal);
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
            color: var(--text-color);
        }
        
        .command-tab.active {
            background: var(--button-color);
            color: var(--bg-color);
        }
        
        .command-tab:hover {
            background: var(--heading-color);
            color: var(--bg-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow-color);
        }
        
        .command-tab.active:hover {
            background: var(--link-color);
        }
        
        .command-section {
            display: none;
            background: var(--highlight-color);
            padding: var(--spacing-xl);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--button-color);
            border: 1px solid var(--border-color);
        }
        
        .command-section.active {
            display: block;
        }
        
        .command-section h2 {
            color: var(--heading-color);
            margin-top: 0;
        }
        
        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }
        
        .form-group {
            margin-bottom: var(--spacing-md);
        }
        
        .form-group label {
            display: block;
            margin-bottom: var(--spacing-xs);
            font-weight: bold;
            color: var(--text-color);
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            font-size: 14px;
            box-sizing: border-box;
            background: var(--bg-color);
            color: var(--text-color);
            transition: border-color var(--transition-normal);
        }
        
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            border-color: var(--button-color);
            outline: none;
            box-shadow: 0 0 5px var(--shadow-color);
        }
        
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            margin-top: var(--spacing-sm);
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-xs);
        }
        
        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin: 0;
            accent-color: var(--button-color);
        }
        
        .checkbox-item label {
            margin: 0;
            font-weight: normal;
            cursor: pointer;
            color: var(--text-color);
        }
        
        .generate-btn {
            background: var(--button-color);
            color: var(--bg-color);
            border: none;
            padding: var(--spacing-md) var(--spacing-lg);
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            width: 100%;
            transition: all var(--transition-normal);
        }
        
        .generate-btn:hover {
            background: var(--heading-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px var(--shadow-color);
        }
        
        .result-section {
            margin-top: var(--spacing-xl);
            background: var(--highlight-color);
            border: 2px solid var(--success-color);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            display: none;
        }
        
        .result-section.show {
            display: block;
        }
        
        .result-section h3 {
            color: var(--heading-color);
            margin-top: 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .command-output {
            background: var(--bg-color);
            color: var(--success-color);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            font-family: 'Courier New', monospace;
            font-size: 14px;
            margin: var(--spacing-sm) 0;
            overflow-x: auto;
            border: 1px solid var(--border-color);
        }
        
        .command-explanation {
            background: var(--bg-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: var(--spacing-md);
            margin: var(--spacing-sm) 0;
            color: var(--text-color);
        }
        
        .copy-btn {
            background: var(--success-color);
            color: var(--bg-color);
            border: none;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: var(--border-radius);
            cursor: pointer;
            font-size: 14px;
            transition: all var(--transition-normal);
        }
        
        .copy-btn:hover {
            background: var(--heading-color);
            transform: translateY(-1px);
            box-shadow: 0 2px 4px var(--shadow-color);
        }
        
        .os-selector {
            display: flex;
            gap: var(--spacing-sm);
            margin-bottom: var(--spacing-lg);
            flex-wrap: wrap;
        }
        
        .os-option {
            background: var(--muted-color);
            border: none;
            padding: var(--spacing-sm) var(--spacing-md);
            border-radius: 15px;
            cursor: pointer;
            font-size: 12px;
            transition: all var(--transition-normal);
            color: var(--text-color);
        }
        
        .os-option.active {
            background: var(--success-color);
            color: var(--bg-color);
        }
        
        .os-option:hover {
            transform: translateY(-1px);
            box-shadow: 0 2px 4px var(--shadow-color);
        }
        
        .info-section {
            background: var(--highlight-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }
        
        .info-section h3 {
            color: var(--heading-color);
            margin-top: 0;
        }
        
        .info-section p {
            color: var(--text-color);
        }
        
        .examples-section {
            background: var(--highlight-color);
            border: 1px solid var(--border-color);
            border-radius: var(--border-radius);
            padding: var(--spacing-lg);
            margin-top: var(--spacing-lg);
        }
        
        .examples-section h3 {
            color: var(--heading-color);
            margin-top: 0;
        }
        
        .example-command {
            background: var(--bg-color);
            border-left: 4px solid var(--button-color);
            padding: var(--spacing-sm) var(--spacing-md);
            margin: var(--spacing-sm) 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            cursor: pointer;
            border-radius: var(--border-radius);
            transition: all var(--transition-normal);
            color: var(--text-color);
            border: 1px solid var(--border-color);
        }
        
        .example-command:hover {
            background: var(--hover-color);
            transform: translateX(5px);
            box-shadow: 0 2px 4px var(--shadow-color);
        }
        
        /* Effets spéciaux pour le mode retro */
        :root[data-theme="retro"] .info-section,
        :root[data-theme="retro"] .command-section,
        :root[data-theme="retro"] .examples-section {
            border-color: var(--border-color);
            background: rgba(0, 255, 159, 0.05);
            box-shadow: 0 0 10px rgba(0, 255, 159, 0.2);
        }
        
        :root[data-theme="retro"] .result-section {
            border-color: var(--success-color);
            box-shadow: 0 0 15px rgba(0, 255, 159, 0.3);
        }
        
        :root[data-theme="retro"] .command-output {
            box-shadow: 0 0 10px rgba(0, 255, 159, 0.2);
            color: #00ff9f;
        }
        
        :root[data-theme="retro"] .command-tab:hover,
        :root[data-theme="retro"] .generate-btn:hover,
        :root[data-theme="retro"] .copy-btn:hover {
            box-shadow: 0 0 15px var(--button-color), 0 4px 8px var(--shadow-color);
        }
        
        :root[data-theme="retro"] .form-group input:focus,
        :root[data-theme="retro"] .form-group select:focus,
        :root[data-theme="retro"] .form-group textarea:focus {
            box-shadow: 0 0 15px var(--button-color);
        }
        
        :root[data-theme="retro"] .example-command:hover {
            box-shadow: 0 0 10px rgba(0, 255, 159, 0.4), 0 2px 4px var(--shadow-color);
        }
        
        @media (max-width: 768px) {
            .command-tabs {
                justify-content: flex-start;
                overflow-x: auto;
                padding-bottom: var(--spacing-xs);
            }
            
            .form-grid {
                grid-template-columns: 1fr;
            }
            
            .os-selector {
                justify-content: center;
            }
            
            .command-section {
                padding: var(--spacing-lg);
            }
        }
    </style>
</head>
<body>
    <!-- Arrière-plans animés -->
    <div class="background"></div>
    <div class="grid"></div>
    
    <!-- Navigation (sera générée automatiquement) -->
    <nav id="main-navigation">
        <!-- La navigation sera injectée ici par navigation.js -->
    </nav>
    
    <!-- Contenu principal -->
    <div class="container fade-in">
        <div class="row">
            <h1>🌐 Générateur de Commandes Réseau</h1>
            
            <div class="info-section">
                <h3>🔧 Générateur de commandes de diagnostic réseau</h3>
                <p>Cet outil génère des commandes réseau personnalisées pour différents systèmes d'exploitation. Parfait pour diagnostiquer les problèmes réseau, tester la connectivité et analyser les performances.</p>
            </div>
            
            <div class="command-tabs">
            <button class="command-tab active" data-command="ping" onclick="selectCommand('ping')">
                📡 PING
            </button>
            <button class="command-tab" data-command="traceroute" onclick="selectCommand('traceroute')">
                🗺️ TRACEROUTE
            </button>
            <button class="command-tab" data-command="netstat" onclick="selectCommand('netstat')">
                📊 NETSTAT
            </button>
            <button class="command-tab" data-command="nslookup" onclick="selectCommand('nslookup')">
                🔍 NSLOOKUP
            </button>
            <button class="command-tab" data-command="wget" onclick="selectCommand('wget')">
                📥 WGET/CURL
            </button>
            <button class="command-tab" data-command="portscan" onclick="selectCommand('portscan')">
                🔓 PORT SCAN
            </button>
        </div>
        
        <!-- Section PING -->
        <div class="command-section active" id="ping-section">
            <h2>📡 Commande PING</h2>
            <div class="os-selector">
                <button class="os-option active" data-os="windows" onclick="selectOS('ping', 'windows')">Windows</button>
                <button class="os-option" data-os="linux" onclick="selectOS('ping', 'linux')">Linux</button>
                <button class="os-option" data-os="macos" onclick="selectOS('ping', 'macos')">macOS</button>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="ping-target">Cible (IP ou nom d'hôte) :</label>
                    <input type="text" id="ping-target" placeholder="google.com ou 8.8.8.8" onchange="generatePingCommand()">
                </div>
                <div class="form-group">
                    <label for="ping-count">Nombre de paquets :</label>
                    <input type="number" id="ping-count" value="4" min="1" max="100" onchange="generatePingCommand()">
                </div>
                <div class="form-group">
                    <label for="ping-size">Taille des paquets (bytes) :</label>
                    <input type="number" id="ping-size" value="32" min="8" max="65507" onchange="generatePingCommand()">
                </div>
                <div class="form-group">
                    <label for="ping-timeout">Timeout (ms) :</label>
                    <input type="number" id="ping-timeout" value="1000" min="100" max="10000" onchange="generatePingCommand()">
                </div>
            </div>
            
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="ping-continuous" onchange="generatePingCommand()">
                    <label for="ping-continuous">Ping continu</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="ping-resolve" onchange="generatePingCommand()">
                    <label for="ping-resolve">Résoudre les adresses</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="ping-flood" onchange="generatePingCommand()">
                    <label for="ping-flood">Mode flood (Linux/macOS)</label>
                </div>
            </div>
            
            <button class="generate-btn" onclick="generatePingCommand()">Générer la commande PING</button>
        </div>
        
        <!-- Section TRACEROUTE -->
        <div class="command-section" id="traceroute-section">
            <h2>🗺️ Commande TRACEROUTE</h2>
            <div class="os-selector">
                <button class="os-option active" data-os="windows" onclick="selectOS('traceroute', 'windows')">Windows (tracert)</button>
                <button class="os-option" data-os="linux" onclick="selectOS('traceroute', 'linux')">Linux</button>
                <button class="os-option" data-os="macos" onclick="selectOS('traceroute', 'macos')">macOS</button>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="trace-target">Cible (IP ou nom d'hôte) :</label>
                    <input type="text" id="trace-target" placeholder="google.com ou 8.8.8.8" onchange="generateTracerouteCommand()">
                </div>
                <div class="form-group">
                    <label for="trace-hops">Nombre max de sauts :</label>
                    <input type="number" id="trace-hops" value="30" min="1" max="255" onchange="generateTracerouteCommand()">
                </div>
                <div class="form-group">
                    <label for="trace-timeout">Timeout (ms) :</label>
                    <input type="number" id="trace-timeout" value="3000" min="500" max="30000" onchange="generateTracerouteCommand()">
                </div>
            </div>
            
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="trace-resolve" onchange="generateTracerouteCommand()">
                    <label for="trace-resolve">Ne pas résoudre les adresses</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="trace-icmp" onchange="generateTracerouteCommand()">
                    <label for="trace-icmp">Utiliser ICMP (Linux/macOS)</label>
                </div>
            </div>
            
            <button class="generate-btn" onclick="generateTracerouteCommand()">Générer la commande TRACEROUTE</button>
        </div>
        
        <!-- Section NETSTAT -->
        <div class="command-section" id="netstat-section">
            <h2>📊 Commande NETSTAT</h2>
            <div class="os-selector">
                <button class="os-option active" data-os="all" onclick="selectOS('netstat', 'all')">Toutes plateformes</button>
            </div>
            
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="netstat-all" checked onchange="generateNetstatCommand()">
                    <label for="netstat-all">Toutes les connexions (-a)</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="netstat-numeric" checked onchange="generateNetstatCommand()">
                    <label for="netstat-numeric">Adresses numériques (-n)</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="netstat-processes" onchange="generateNetstatCommand()">
                    <label for="netstat-processes">Afficher les processus (-o/-p)</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="netstat-routes" onchange="generateNetstatCommand()">
                    <label for="netstat-routes">Table de routage (-r)</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="netstat-stats" onchange="generateNetstatCommand()">
                    <label for="netstat-stats">Statistiques (-s)</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="netstat-listening" onchange="generateNetstatCommand()">
                    <label for="netstat-listening">Ports en écoute (-l)</label>
                </div>
            </div>
            
            <div class="form-group">
                <label for="netstat-protocol">Protocole spécifique :</label>
                <select id="netstat-protocol" onchange="generateNetstatCommand()">
                    <option value="">Tous</option>
                    <option value="tcp">TCP</option>
                    <option value="udp">UDP</option>
                </select>
            </div>
            
            <button class="generate-btn" onclick="generateNetstatCommand()">Générer la commande NETSTAT</button>
        </div>
        
        <!-- Section NSLOOKUP -->
        <div class="command-section" id="nslookup-section">
            <h2>🔍 Commande NSLOOKUP</h2>
            <div class="os-selector">
                <button class="os-option active" data-os="all" onclick="selectOS('nslookup', 'all')">Toutes plateformes</button>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="nslookup-target">Domaine à rechercher :</label>
                    <input type="text" id="nslookup-target" placeholder="example.com" onchange="generateNslookupCommand()">
                </div>
                <div class="form-group">
                    <label for="nslookup-server">Serveur DNS (optionnel) :</label>
                    <input type="text" id="nslookup-server" placeholder="8.8.8.8" onchange="generateNslookupCommand()">
                </div>
                <div class="form-group">
                    <label for="nslookup-type">Type d'enregistrement :</label>
                    <select id="nslookup-type" onchange="generateNslookupCommand()">
                        <option value="A">A (Adresse IPv4)</option>
                        <option value="AAAA">AAAA (Adresse IPv6)</option>
                        <option value="MX">MX (Mail Exchange)</option>
                        <option value="NS">NS (Name Server)</option>
                        <option value="TXT">TXT (Texte)</option>
                        <option value="CNAME">CNAME (Alias)</option>
                        <option value="SOA">SOA (Start of Authority)</option>
                        <option value="PTR">PTR (Reverse DNS)</option>
                    </select>
                </div>
            </div>
            
            <button class="generate-btn" onclick="generateNslookupCommand()">Générer la commande NSLOOKUP</button>
        </div>
        
        <!-- Section WGET/CURL -->
        <div class="command-section" id="wget-section">
            <h2>📥 Commande WGET/CURL</h2>
            <div class="os-selector">
                <button class="os-option active" data-os="wget" onclick="selectOS('wget', 'wget')">wget</button>
                <button class="os-option" data-os="curl" onclick="selectOS('wget', 'curl')">curl</button>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="wget-url">URL :</label>
                    <input type="url" id="wget-url" placeholder="https://example.com/file.zip" onchange="generateWgetCommand()">
                </div>
                <div class="form-group">
                    <label for="wget-output">Nom du fichier de sortie :</label>
                    <input type="text" id="wget-output" placeholder="fichier.zip" onchange="generateWgetCommand()">
                </div>
                <div class="form-group">
                    <label for="wget-timeout">Timeout (secondes) :</label>
                    <input type="number" id="wget-timeout" value="30" min="5" max="300" onchange="generateWgetCommand()">
                </div>
            </div>
            
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="wget-continue" onchange="generateWgetCommand()">
                    <label for="wget-continue">Continuer un téléchargement</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="wget-verbose" onchange="generateWgetCommand()">
                    <label for="wget-verbose">Mode verbeux</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="wget-headers" onchange="generateWgetCommand()">
                    <label for="wget-headers">Afficher les en-têtes</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="wget-follow" onchange="generateWgetCommand()">
                    <label for="wget-follow">Suivre les redirections</label>
                </div>
            </div>
            
            <button class="generate-btn" onclick="generateWgetCommand()">Générer la commande WGET/CURL</button>
        </div>
        
        <!-- Section PORT SCAN -->
        <div class="command-section" id="portscan-section">
            <h2>🔓 Scan de Ports</h2>
            <div class="os-selector">
                <button class="os-option active" data-os="nmap" onclick="selectOS('portscan', 'nmap')">nmap</button>
                <button class="os-option" data-os="netcat" onclick="selectOS('portscan', 'netcat')">netcat</button>
                <button class="os-option" data-os="telnet" onclick="selectOS('portscan', 'telnet')">telnet</button>
            </div>
            
            <div class="form-grid">
                <div class="form-group">
                    <label for="portscan-target">Cible (IP ou domaine) :</label>
                    <input type="text" id="portscan-target" placeholder="192.168.1.1 ou example.com" onchange="generatePortscanCommand()">
                </div>
                <div class="form-group">
                    <label for="portscan-ports">Ports à scanner :</label>
                    <input type="text" id="portscan-ports" placeholder="80,443,22 ou 1-1000" value="80,443,22,21,25,53,110,993,995" onchange="generatePortscanCommand()">
                </div>
                <div class="form-group">
                    <label for="portscan-timeout">Timeout (secondes) :</label>
                    <input type="number" id="portscan-timeout" value="5" min="1" max="60" onchange="generatePortscanCommand()">
                </div>
            </div>
            
            <div class="checkbox-group">
                <div class="checkbox-item">
                    <input type="checkbox" id="portscan-tcp" checked onchange="generatePortscanCommand()">
                    <label for="portscan-tcp">Scan TCP</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="portscan-udp" onchange="generatePortscanCommand()">
                    <label for="portscan-udp">Scan UDP</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="portscan-fast" onchange="generatePortscanCommand()">
                    <label for="portscan-fast">Scan rapide</label>
                </div>
                <div class="checkbox-item">
                    <input type="checkbox" id="portscan-version" onchange="generatePortscanCommand()">
                    <label for="portscan-version">Détecter les versions</label>
                </div>
            </div>
            
            <button class="generate-btn" onclick="generatePortscanCommand()">Générer la commande PORT SCAN</button>
        </div>
        
        <!-- Section des résultats -->
        <div class="result-section" id="resultSection">
            <h3>
                📋 Commande générée
                <button class="copy-btn" onclick="copyCommand()">Copier</button>
            </h3>
            <div class="command-output" id="commandOutput"></div>
            <div class="command-explanation" id="commandExplanation"></div>
        </div>
        
        <!-- Section des exemples -->
        <div class="examples-section">
            <h3>💡 Exemples populaires</h3>
            <div id="examplesContainer"></div>
            </div>
        </div>
    </div>

    <script>
        let currentCommand = 'ping';
        let currentOS = { ping: 'windows', traceroute: 'windows', netstat: 'all', nslookup: 'all', wget: 'wget', portscan: 'nmap' };
        
        // Exemples prédéfinis
        const examples = {
            ping: [
                'ping google.com',
                'ping -t 8.8.8.8',
                'ping -n 10 -l 1000 192.168.1.1',
                'ping -c 4 -s 56 example.com'
            ],
            traceroute: [
                'tracert google.com',
                'traceroute -m 15 8.8.8.8',
                'tracert -h 20 192.168.1.1',
                'traceroute -I example.com'
            ],
            netstat: [
                'netstat -an',
                'netstat -ano | findstr :80',
                'netstat -rn',
                'netstat -s'
            ],
            nslookup: [
                'nslookup google.com',
                'nslookup google.com 8.8.8.8',
                'nslookup -type=MX example.com',
                'nslookup -type=NS google.com'
            ],
            wget: [
                'wget https://example.com/file.zip',
                'curl -O https://example.com/file.zip',
                'wget -c --timeout=60 https://example.com/large-file.zip',
                'curl -L -o output.html https://example.com'
            ],
            portscan: [
                'nmap -p 80,443 google.com',
                'nmap -sT -p 1-1000 192.168.1.1',
                'nc -zv 192.168.1.1 22',
                'telnet 192.168.1.1 80'
            ]
        };
        
        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            updateExamples();
            generatePingCommand(); // Générer la commande par défaut
        });
        
        // Fonction pour sélectionner une commande
        function selectCommand(command) {
            currentCommand = command;
            
            // Mettre à jour les onglets
            document.querySelectorAll('.command-tab').forEach(tab => {
                tab.classList.toggle('active', tab.dataset.command === command);
            });
            
            // Afficher la section correspondante
            document.querySelectorAll('.command-section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(command + '-section').classList.add('active');
            
            // Mettre à jour les exemples
            updateExamples();
            
            // Générer la commande
            switch(command) {
                case 'ping': generatePingCommand(); break;
                case 'traceroute': generateTracerouteCommand(); break;
                case 'netstat': generateNetstatCommand(); break;
                case 'nslookup': generateNslookupCommand(); break;
                case 'wget': generateWgetCommand(); break;
                case 'portscan': generatePortscanCommand(); break;
            }
        }
        
        // Fonction pour sélectionner un OS
        function selectOS(command, os) {
            currentOS[command] = os;
            
            // Mettre à jour les boutons OS
            const section = document.getElementById(command + '-section');
            section.querySelectorAll('.os-option').forEach(option => {
                option.classList.toggle('active', option.dataset.os === os);
            });
            
            // Régénérer la commande
            switch(command) {
                case 'ping': generatePingCommand(); break;
                case 'traceroute': generateTracerouteCommand(); break;
                case 'netstat': generateNetstatCommand(); break;
                case 'nslookup': generateNslookupCommand(); break;
                case 'wget': generateWgetCommand(); break;
                case 'portscan': generatePortscanCommand(); break;
            }
        }
        
        // Générateurs de commandes
        function generatePingCommand() {
            const target = document.getElementById('ping-target').value || 'google.com';
            const count = document.getElementById('ping-count').value;
            const size = document.getElementById('ping-size').value;
            const timeout = document.getElementById('ping-timeout').value;
            const continuous = document.getElementById('ping-continuous').checked;
            const resolve = document.getElementById('ping-resolve').checked;
            const flood = document.getElementById('ping-flood').checked;
            
            let command = 'ping';
            let explanation = 'Commande PING pour tester la connectivité réseau';
            
            switch(currentOS.ping) {
                case 'windows':
                    if (continuous) {
                        command += ' -t';
                        explanation += ' en continu';
                    } else {
                        command += ` -n ${count}`;
                    }
                    command += ` -l ${size}`;
                    command += ` -w ${timeout}`;
                    if (resolve) command += ' -a';
                    break;
                case 'linux':
                case 'macos':
                    if (!continuous) command += ` -c ${count}`;
                    command += ` -s ${size}`;
                    command += ` -W ${Math.floor(timeout/1000)}`;
                    if (!resolve) command += ' -n';
                    if (flood) command += ' -f';
                    break;
            }
            
            command += ` ${target}`;
            
            displayResult(command, explanation);
        }
        
        function generateTracerouteCommand() {
            const target = document.getElementById('trace-target').value || 'google.com';
            const hops = document.getElementById('trace-hops').value;
            const timeout = document.getElementById('trace-timeout').value;
            const resolve = document.getElementById('trace-resolve').checked;
            const icmp = document.getElementById('trace-icmp').checked;
            
            let command, explanation;
            
            switch(currentOS.traceroute) {
                case 'windows':
                    command = 'tracert';
                    command += ` -h ${hops}`;
                    command += ` -w ${timeout}`;
                    if (resolve) command += ' -d';
                    explanation = 'Commande TRACERT Windows pour tracer la route réseau';
                    break;
                case 'linux':
                case 'macos':
                    command = 'traceroute';
                    command += ` -m ${hops}`;
                    command += ` -w ${Math.floor(timeout/1000)}`;
                    if (resolve) command += ' -n';
                    if (icmp) command += ' -I';
                    explanation = 'Commande TRACEROUTE Unix pour tracer la route réseau';
                    break;
            }
            
            command += ` ${target}`;
            
            displayResult(command, explanation);
        }
        
        function generateNetstatCommand() {
            let command = 'netstat';
            let options = [];
            let explanation = 'Commande NETSTAT pour afficher les connexions réseau';
            
            if (document.getElementById('netstat-all').checked) options.push('a');
            if (document.getElementById('netstat-numeric').checked) options.push('n');
            if (document.getElementById('netstat-processes').checked) {
                options.push(process.platform === 'win32' ? 'o' : 'p');
            }
            if (document.getElementById('netstat-routes').checked) options.push('r');
            if (document.getElementById('netstat-stats').checked) options.push('s');
            if (document.getElementById('netstat-listening').checked) options.push('l');
            
            if (options.length > 0) {
                command += ' -' + options.join('');
            }
            
            const protocol = document.getElementById('netstat-protocol').value;
            if (protocol) {
                command += ` -p ${protocol}`;
                explanation += ` pour le protocole ${protocol.toUpperCase()}`;
            }
            
            displayResult(command, explanation);
        }
        
        function generateNslookupCommand() {
            const target = document.getElementById('nslookup-target').value || 'example.com';
            const server = document.getElementById('nslookup-server').value;
            const type = document.getElementById('nslookup-type').value;
            
            let command = 'nslookup';
            let explanation = `Requête DNS pour ${target}`;
            
            if (type !== 'A') {
                command += ` -type=${type}`;
                explanation += ` (enregistrement ${type})`;
            }
            
            command += ` ${target}`;
            
            if (server) {
                command += ` ${server}`;
                explanation += ` via le serveur ${server}`;
            }
            
            displayResult(command, explanation);
        }
        
        function generateWgetCommand() {
            const url = document.getElementById('wget-url').value || 'https://example.com/file.zip';
            const output = document.getElementById('wget-output').value;
            const timeout = document.getElementById('wget-timeout').value;
            const continueDownload = document.getElementById('wget-continue').checked;
            const verbose = document.getElementById('wget-verbose').checked;
            const headers = document.getElementById('wget-headers').checked;
            const follow = document.getElementById('wget-follow').checked;
            
            let command, explanation;
            
            if (currentOS.wget === 'wget') {
                command = 'wget';
                if (output) command += ` -O ${output}`;
                if (timeout) command += ` --timeout=${timeout}`;
                if (continueDownload) command += ' -c';
                if (verbose) command += ' -v';
                if (headers) command += ' -S';
                if (follow) command += ' --max-redirect=5';
                explanation = 'Téléchargement de fichier avec wget';
            } else {
                command = 'curl';
                if (output) command += ` -o ${output}`;
                if (timeout) command += ` --max-time ${timeout}`;
                if (continueDownload) command += ' -C -';
                if (verbose) command += ' -v';
                if (headers) command += ' -I';
                if (follow) command += ' -L';
                explanation = 'Téléchargement de fichier avec curl';
            }
            
            command += ` "${url}"`;
            
            displayResult(command, explanation);
        }
        
        function generatePortscanCommand() {
            const target = document.getElementById('portscan-target').value || '192.168.1.1';
            const ports = document.getElementById('portscan-ports').value || '80,443,22';
            const timeout = document.getElementById('portscan-timeout').value;
            const tcp = document.getElementById('portscan-tcp').checked;
            const udp = document.getElementById('portscan-udp').checked;
            const fast = document.getElementById('portscan-fast').checked;
            const version = document.getElementById('portscan-version').checked;
            
            let command, explanation;
            
            switch(currentOS.portscan) {
                case 'nmap':
                    command = 'nmap';
                    command += ` -p ${ports}`;
                    if (tcp && !udp) command += ' -sT';
                    if (udp) command += ' -sU';
                    if (fast) command += ' -T4';
                    if (version) command += ' -sV';
                    command += ` --host-timeout ${timeout}s`;
                    explanation = 'Scan de ports avec nmap';
                    break;
                case 'netcat':
                    command = `nc -zv ${target} ${ports.replace(/,/g, ' ')}`;
                    explanation = 'Test de connexion ports avec netcat';
                    break;
                case 'telnet':
                    const firstPort = ports.split(',')[0];
                    command = `telnet ${target} ${firstPort}`;
                    explanation = `Test de connexion au port ${firstPort} avec telnet`;
                    break;
            }
            
            if (currentOS.portscan === 'nmap') {
                command += ` ${target}`;
            }
            
            displayResult(command, explanation);
        }
        
        // Fonction pour afficher le résultat
        function displayResult(command, explanation) {
            document.getElementById('commandOutput').textContent = command;
            document.getElementById('commandExplanation').innerHTML = `<strong>Explication :</strong> ${explanation}`;
            document.getElementById('resultSection').classList.add('show');
        }
        
        // Fonction pour copier la commande
        function copyCommand() {
            const command = document.getElementById('commandOutput').textContent;
            
            if (navigator.clipboard) {
                navigator.clipboard.writeText(command).then(() => {
                    showCopySuccess();
                }).catch(() => {
                    fallbackCopy(command);
                });
            } else {
                fallbackCopy(command);
            }
        }
        
        function fallbackCopy(text) {
            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'fixed';
            textArea.style.opacity = '0';
            document.body.appendChild(textArea);
            textArea.select();
            
            try {
                document.execCommand('copy');
                showCopySuccess();
            } catch (err) {
                console.error('Erreur de copie:', err);
            }
            
            document.body.removeChild(textArea);
        }
        
        function showCopySuccess() {
            const copyBtn = document.querySelector('.copy-btn');
            const originalText = copyBtn.textContent;
            copyBtn.textContent = '✅ Copié !';
            copyBtn.style.background = '#4caf50';
            
            setTimeout(() => {
                copyBtn.textContent = originalText;
                copyBtn.style.background = '#4caf50';
            }, 2000);
        }
        
        // Fonction pour mettre à jour les exemples
        function updateExamples() {
            const container = document.getElementById('examplesContainer');
            const commandExamples = examples[currentCommand] || [];
            
            container.innerHTML = commandExamples.map(example => 
                `<div class="example-command" onclick="useExample('${example}')">${example}</div>`
            ).join('');
        }
        
        // Fonction pour utiliser un exemple
        function useExample(example) {
            // Copier l'exemple dans le presse-papiers
            if (navigator.clipboard) {
                navigator.clipboard.writeText(example);
            }
            
            // Afficher l'exemple dans la sortie
            document.getElementById('commandOutput').textContent = example;
            document.getElementById('commandExplanation').innerHTML = `<strong>Exemple sélectionné :</strong> ${example}`;
            document.getElementById('resultSection').classList.add('show');
        }
    </script>
    
    <!-- Scripts -->
    <script src="js/unified-theme-manager.js"></script>
    <script src="js/navigation.js"></script>
    
    <!-- Initialisation -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // S'assurer que le thème sombre est appliqué par défaut
            if (!localStorage.getItem('unified-theme')) {
                localStorage.setItem('unified-theme', 'dark');
                document.documentElement.setAttribute('data-theme', 'dark');
            }
        });
    </script>
</body>
</html>